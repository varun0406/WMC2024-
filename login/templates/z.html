{% extends './basenew.html' %}
{% block body %}
<!-- Google Web Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Saira:wght@500;600;700&family=Roboto:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">

<!-- Icon Font Stylesheet -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

<!-- Customized Bootstrap Stylesheet -->
<link href="/static/Eventpage/css/bootstrap.min.css" rel="stylesheet">

<!-- Template Stylesheet -->
<link href="/static/eventpage/css/style.css" rel="stylesheet">
<link href="/static/booking/css/style.css" rel="stylesheet">

<style>
    /* Global Styles */
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        font-family: 'Roboto', sans-serif;
        background-color: #f5f5f5;
    }

    /* Header Styles */
   .img-top {
        height: 400px;
        background: url('https://images.pexels.com/photos/2747449/pexels-photo-2747449.jpeg?cs=srgb&dl=pexels-wolfgang-1002140-2747449.jpg&fm=jpg') no-repeat center center;
        background-size: cover;
        display: flex;
        justify-content: center;
        align-items: center;
    }

   .event-header {
        font-size: 38px;
        font-weight: 600;
        color: white;
        text-align: center;
    }

    /* Event Details Styles */
   .event-details {
        width: 80%;
        margin: 40px auto;
        padding: 20px;
        background-color: #fff;
        border: 1px solid #ddd;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

   .event-details h2 {
        font-size: 24px;
        margin-bottom: 10px;
    }

   .event-details p {
        margin-bottom: 20px;
    }

    /* Booking Form Styles */
   .booking-form {
        width: 450px;
        margin: 40px auto;
        padding: 20px;
        background-color: #fff;
        border: 1px solid #ddd;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

   .booking-form h3 {
        text-align: center;
        color: #ffcc00;
        margin-bottom: 20px;
    }

   .input-group {
        margin-bottom: 20px;
    }

   .input-group label {
        display: block;
        margin-bottom: 5px;
    }

   .input-group input {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
    }

   .plus-minus-btn {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 20px;
    }

   .plus-minus-btn span {
        cursor: pointer;
        padding: 0 10px;
        background: #444;
        color: white;
    }

   .calculations {
        margin-bottom: 20px;
    }

   .calculations hr {
        border-top: 1px solid #666;
    }

   .btn-style {
        background-color: #ffcc00;
        color: black;
        width: 100%;
        padding: 10px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

   .btn-style:hover {
        background-color: #ffaa00;
    }

    /* Location Styles */
   .location {
        width: 80%;
        margin: 40px auto;
        padding: 20px;
        background-color: #fff;
        border: 1px solid #ddd;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

   .location iframe {
        width: 100%;
        height: 300px;
        border: none;
    }

   .location.section-title {
        margin-bottom: 20px;
    }

   .location.section-title h2 {
        font-size: 24px;
        margin-bottom: 10px;
    }

   .location.cs-text {
        margin-bottom: 20px;
    }

   .location.ct-address {
        margin-bottom: 20px;
    }

   .location ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }

   .location li {
        margin-bottom: 10px;
    }

   .location span {
        font-weight: bold;
    }
    body{
        background-color:black;
        height:900px
    }
    
</style>

<!-- Rest of the HTML code remains the same -->

<div class="event-container" style="margin-top:112px">
    <div class="event-header">
      <h1 id="event-name">{{ event.event_name }}</h1>
    </div>
    <div class="event-image" style="background-image: url('https://picsum.photos/200/300')"></div>
    <div class="event-details" style="text-align:center">
      <p><strong>Start Date:</strong> <span id="start-date">{{ event.event_s_time }}</span></p>
      <p><strong>End Date:</strong> <span id="end-date"></span>{{ event.event_e_time }}</p>
      <p><strong>Organised:</strong> <span id="location"></span>{{ org.org_name }}</p>
    </div>
  </div>
  
  <script>
    // Sample event data
    const eventData = {
      name: "Event A",
      startDate: "2023-03-01",
      endDate: "2023-03-03",
      location: "New York, USA"
    };
  
    // Populate event data

  </script>




{% comment %} <div class="img-top"></div>
<div class="event-header">EVENTS</div>

<section class="main-content">
    <div class="event-details">
        <h2>{{ event.event_name }}</h2>
        <p>{{ event.event_desc }}</p>
        <p>Start Time: {{ event.event_s_time }}</p>
        <p>End Time: {{ event.event_e_time }}</p>
        
        <p>Organized by: {{ org.org_name }}</p>
        <div class="event-images">
            {% if event.Image1 %}
            <img src="{{ event.Image1.url }}" alt="Event Image 1">
            {% endif %}
            {% if event.Image2 %}
            <img src="{{ event.Image2.url }}" alt="Event Image 2">
            {% endif %}
            {% if event.Image3 %}
            <img src="{{ event.Image3.url }}" alt="Event Image 3">
            {% endif %}
            {% if event.Image4 %}
            <img src="{{ event.Image4.url }}" alt="Event Image 4">
            {% endif %}
        </div>
    </div>
</section> {% endcomment %}





<section class="main-content" style="    margin-left: 36%;">
    <div class="booking-form" id="booking-and-confirmation">
        <form action="" method="post">
            {% csrf_token %}
            <div id="booking-input">
                <h3>Book Event Tickets</h3>
                <div class="input-group">
                    <label for="full-name">Full Name</label>
                    <input class="inp-style" id="full-name" name="full_name" type="text" placeholder="Full name" required>
                </div>
                <div class="input-group">
                    <label for="email">Email</label>
                    <input class="inp-style" id="email" name="email" type="email" placeholder="Email" required>
                </div>
                <label for="ticket-number">Tickets (${{ event.Event_Tickets }})</label>
                <div class="input-group" style="display: flex;justify-content: center;">
                    <div class="plus-minus-btn">
                        <span id="ticket-minus" class="control">-</span>
                    </div>
                    <div>
                        <input class="inp-style inp-width" type="text" id="ticket-number" name="ticket_number" value="0" style="    margin-top: 0px;">
                    </div>
                    <div class="plus-minus-btn">
                        <span id="ticket-plus" class="control">+</span>
                    </div>
                </div>
                <div class="calculations">
                    <div class="amount">
                        <div class="left">
                            <p>Subtotal</p>
                        </div>
                        <div class="right">
                            <p>$<span id="price-subtotal">0</span></p>
                        </div>
                    </div>
                    <div class="amount">
                        <div class="left">
                            <p>Membership Discount ({{ discount }}%)</p>
                        </div>
                        <div class="right">
                            <p>- $<span id="membership">0</span></p>
                            <input type="hidden" id="membership-hidden" name="membership">
                        </div>
                    </div>
                    <hr>
                    <div class="amount">
                        <div class="left">
                            <h4>Total</h4>
                        </div>
                        <div class="right">
                            <p>$<span id="price-total">0</span></p>
                            <input type="hidden" id="price-total-hidden" value='20' name="pricet">
                        </div>
                    </div>
                </div>
                <button class="btn-style" id="book-now-button" type="submit">Pay Now</button>
            </div>
        </form>
    </div>
</section>

<section style="width: 100%; box-sizing: border-box;">
    <div>
        <div style="display: flex; justify-content: center; align-items: center; color: white; background-color: black;">
            <div style="width: 100%; text-align: center;display: flex; justify-content: space-around; align-items: center;">
                <div class="section-title">
                    <h2 style="color: yellow; font-size: 30px;">Location</h2>
                    <p style="font-size: 20px;">Get directions to our event center</p>
                    <ul style="list-style-type: none;">
                        <li>
                            <span style="color: yellow; font-size: 24px;">Phone:</span>
                            <p style="font-size: 20px;">{{ venue.venue_phone }}</p>
                        </li>
                        <li>
                            <span style="color: yellow; font-size: 24px;">Email:</span>
                            <p style="font-size: 20px;">{{ venue.venue_email }}</p>
                        </li>
                    </ul>
                </div>
                <div class="cs-text">
                    <div class="ct-address">
                        <span style="color: yellow; font-size: 28px;">Address:</span>
                        <p style="font-size: 20px;"><iframe src="{{ venue.venue_address }}" width='600' height='450' style='border:0;' allowfullscreen='' loading='lazy' referrerpolicy='no-referrer-when-downgrade'></iframe></p>
                    </div>
                    
                </div>
            </div>
        </div>
        <div style="width: 50%;">
            <iframe src="{{ venue.venue_location }}" width="600" height="450" style="border: 0;" allowfullscreen loading="lazy"></iframe>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const ticketNumber = document.getElementById('ticket-number');
        const priceSubtotal = document.getElementById('price-subtotal');
        const membership = document.getElementById('membership');
        const priceTotal = document.getElementById('price-total');
        const ticketPrice = {{ event.Event_Tickets }};
        const discountPercent = {{ discount }};
        var z=document.getElementById('price-total-hidden');
        var y=document.getElementById("membership-hidden");

        document.getElementById('ticket-plus').addEventListener('click', function() {
            ticketNumber.value = parseInt(ticketNumber.value) + 1;
            updatePrice();
        });

        document.getElementById('ticket-minus').addEventListener('click', function() {
            if (ticketNumber.value > 0) {
                ticketNumber.value = parseInt(ticketNumber.value) - 1;
                updatePrice();
            }
        });

        function updatePrice() {
            const subtotal = ticketNumber.value * ticketPrice;
            priceSubtotal.innerText = subtotal.toFixed(2);
            const discountAmount = subtotal * (discountPercent / 100);
            y.value=discountAmount
            membership.innerText = discountAmount.toFixed(2);
            const total = subtotal - discountAmount;
            z.value= total;
            priceTotal.innerText = total.toFixed(2);
        }
    });
</script>

{% endblock %}
